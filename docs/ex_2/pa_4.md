---
layout: default
title: 2-4
nav_order: 4
parent: 习题 二
---

## 习题 -> 2.4&ensp;优先队列
{: .no_toc }

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## 练习

### 1. 最大元素的返回字符

```
R R P O T Y I I U Q E U
```

### 2. 分析

因为在移除了最大元素之后需要更新最大值，显然时间复杂度是线性的。

### 3. 实现优先队列

见代码 <a href="https://algs4.cs.princeton.edu/24pq/OrderedArrayMaxPQ.java.html" target="_blank">OrderedArrayMaxPQ.java</a> ，<a href="https://algs4.cs.princeton.edu/24pq/UnorderedArrayMaxPQ.java.html" target="_blank">UnorderedArrayMaxPQ.java</a> 。

### 4. 降序排列的数组

是一个面向最大元素的堆。可以对应堆中的每一个值，且排列顺序无误，满足 *父节点 > 子结点* 。

### 5. 插入堆中的结果

```
Y T U S Q N E A S I O E
```

### 6. 每次操作后堆的内容

空行代表堆中没有元素（利用二叉堆）。

```
P
R P
R P I
R P I O
P O I
R P I O
P O I
O I
O I I
I I
T I I
I I
Y I I
I I
I

Q
U Q
U Q E
Q E
E

U

E

```

### 7. 第 k 大元素

大小为 31 的（二叉）堆可以看作一个深度为 5 的满二叉树。

- 当 \\(k=2\\) 时，也就是堆中的第二大元素，位置可能在 2 或 3 上；

- 当 \\(k=3\\) 时，也就是堆中的第三大元素，位置可能在 2、3、4、5、6 或 7 上；

- 当 \\(k=4\\) 时，也就是堆中的第四大元素，位置可能在 2、3、4、5、6、7、8、9、10、11、12、13、14 或 15 上。

其余位置不可能出现。

### 8. 第 k 小元素

- 当 \\(k=2\\) 时，也就是堆中的第二小元素，因为它不可能拥有两个子结点，所以位置只可能在 16、17、18、19、20、21、22、23、24、25、26、27、28、29、30 或 31 上；

- 当 \\(k=3\\) 时，也就是堆中的第三小元素，存在它和它的两个子结点是最小三个元素的情况，此时位置可能在 8、9、10、11、12、13、14、15、16、17、18、19、20、21、22、23、24、25、26、27、28、29、30 或 31 上；

- 当 \\(k=4\\) 时，也就是堆中的第四小元素，这就与 \\(k=3\\) 时的可能情况相同，因为它不可能同时具有两个子结点数目为 2 的子结点。

### 9. 可能构造出的堆

因为题目没有要求构造面向最大元素的堆，根据排列与组合的知识，共有 \\(A_5^{5}\\) 种可能的情况，这里就不一一列举出来了。

❓❓好像哪里不对，应该是要面向最大元素的吧 😅，那我们就按最大元素做吧！
{: .fs-2 }

- 对于 A B C D E
```
E C D A B
E C D B A
E D A B C
E D A C B
E D B A C
E D B C A
E D C A B
E D C B A
```

- 对于 A A A B B
```
B A B A A
B B A A A
```

### 10. 父节点和子结点在哪里 ？

数组的索引从 0 开始，但将索引值都加 1 不影响父节点和子结点的对应关系。所以我们可以得到：

- \\(k+1\\) 元素对应的父节点索引为 \\((k+1)/2\\) ，推出 \\(k\\) 元素对应的父节点索引为 \\((k+1)/2-1\\) ；
- \\(k+1\\) 元素对应的子结点索引为 \\(2(k+1)\\) 和 \\(2(k+1)+1\\) ，推出 \\(k\\) 元素对应的子节点索引为 \\(2k+1\\) 和 \\(2k+2\\) 。

### 11. 哪种更有效

### 12. 哪种更有效

### 13. 避免检查 j < N

### 14. 最少交换几个元素 ？

### 15. 是否是一个面向最小元素的堆 ？

### 16. 构造数组

### 17. 证明

### 18. 堆还相同吗 ？

### 19. 实现构造函数

### 20. 证明

---
